@import "tailwindcss";

/* PolySans Font Face Declarations - Optimized Loading */
@font-face {
  font-family: 'PolySans';
  src: url('/fonts/PolySans-Neutral.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'PolySans';
  src: url('/fonts/PolySans-Median.ttf') format('truetype');
  font-weight: 500;
  font-style: normal;
  font-display: swap;
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'PolySans';
  src: url('/fonts/PolySans-Slim.ttf') format('truetype');
  font-weight: 300;
  font-style: normal;
  font-display: swap;
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

:root {
  --color-bg: 255 255 255;
  --color-fg: 0 0 0;
  --color-accent: 255 0 0;
  --color-secondary: 0 0 255;
  --color-success: 0 255 0;
  --color-warning: 255 165 0;
}

:root.dark {
  --color-bg: 0 0 0;
  --color-fg: 255 255 255;
  --color-accent: 255 0 0;
  --color-secondary: 0 0 255;
  --color-success: 0 255 0;
  --color-warning: 255 165 0;
}

html, body, #root {
  height: 100%;
}

body {
  font-family: "PolySans", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  background: rgb(var(--color-bg));
  color: rgb(var(--color-fg));
  letter-spacing: -0.025em; /* tracking-tight equivalent */
}

/* Neo-brutalist button styles */
.btn-brutal {
  /* Neo-brutalist base: bold border, chunky offset shadow, slight motion */
  @apply inline-flex items-center gap-3 border-2 border-black bg-white text-black font-normal px-8 py-4 text-xl select-none tracking-tight;
  box-shadow: 5px 5px 0px 0px rgb(0,0,0);
  transition: transform 0.1s ease, box-shadow 0.1s ease, background-color 0.1s ease, color 0.1s ease, border-color 0.1s ease;
  min-height: 56px; /* Accessible hit target */
}

.btn-brutal:hover {
  transform: translate(1px, 1px);
  box-shadow: 4px 4px 0px 0px rgb(0,0,0);
}

.btn-brutal:active {
  transform: translate(2px, 2px);
  box-shadow: 3px 3px 0px 0px rgb(0,0,0);
}

/* Keyboard focus visibility */
.btn-brutal:focus-visible {
  outline: 3px solid rgb(0,0,0);
  outline-offset: 2px;
}

/* Disabled state */
.btn-brutal:disabled,
.btn-brutal[aria-disabled="true"] {
  @apply bg-gray-200 text-gray-500 border-gray-700 cursor-not-allowed;
  transform: none;
  box-shadow: 5px 5px 0px 0px rgb(0,0,0);
  opacity: 0.85;
}

/* Loading state (set aria-busy="true" or .is-loading) */
.btn-brutal[aria-busy="true"],
.btn-brutal.is-loading {
  pointer-events: none;
  opacity: 0.9;
  position: relative;
}
.btn-brutal[aria-busy="true"]::after,
.btn-brutal.is-loading::after {
  content: "";
  position: absolute;
  right: 0.75rem;
  width: 0.875rem;
  height: 0.875rem;
  border: 2px solid currentColor;
  border-top-color: transparent;
  border-radius: 9999px;
  animation: btn-spin 0.6s linear infinite;
}
@keyframes btn-spin {
  to { transform: rotate(360deg); }
}

.btn-primary {
  @apply border-2 border-black bg-red-500 text-white font-normal;
  box-shadow: 4px 4px 0px 0px rgb(0,0,0);
}
.btn-primary:hover { @apply bg-red-600; }
.btn-primary:active { @apply bg-red-700; }

.btn-secondary {
  @apply border-2 border-black bg-blue-500 text-white font-normal;
  box-shadow: 4px 4px 0px 0px rgb(0,0,0);
}
.btn-secondary:hover { @apply bg-blue-600; }
.btn-secondary:active { @apply bg-blue-700; }

.btn-success {
  @apply border-2 border-black bg-green-500 text-white font-normal;
  box-shadow: 4px 4px 0px 0px rgb(0,0,0);
}
.btn-success:hover { @apply bg-green-600; }
.btn-success:active { @apply bg-green-700; }

/* Destructive actions */
.btn-danger {
  @apply border-2 border-black bg-red-600 text-white font-normal;
  box-shadow: 4px 4px 0px 0px rgb(0,0,0);
}
.btn-danger:hover { @apply bg-red-700; }
.btn-danger:active { @apply bg-red-800; }

/* Neutral button used for secondary actions and icon-only controls */
.btn-neutral {
  @apply border-2 border-black bg-gray-200 text-black font-normal;
  box-shadow: 4px 4px 0px 0px rgb(0,0,0);
}
.btn-neutral:hover { @apply bg-gray-300; }
.btn-neutral:active { @apply bg-gray-400; }

/* Additional variants in the same neo-brutalist system */
.btn-warning { @apply border-2 border-black bg-orange-400 text-black font-normal; box-shadow: 4px 4px 0px 0px rgb(0,0,0); }
.btn-warning:hover { @apply bg-orange-500; }
.btn-warning:active { @apply bg-orange-600; }

.btn-outline { @apply bg-white text-black border-2 border-black; box-shadow: 4px 4px 0px 0px rgb(0,0,0); }
.btn-outline:hover { @apply bg-gray-100; }
.btn-outline:active { @apply bg-gray-200; }

.btn-ghost { @apply bg-transparent text-black border-2 border-black; box-shadow: 4px 4px 0px 0px rgb(0,0,0); }
.btn-ghost:hover { @apply bg-gray-100; }
.btn-ghost:active { @apply bg-gray-200; }

/* Size variants */
.btn-sm { @apply px-3 py-2 text-base; min-height: 36px; }
.btn-lg { @apply px-8 py-4 text-xl; min-height: 52px; }

/* Icon-only buttons (square, centered) */
.btn-icon-only { 
  padding: 1rem; 
  min-width: 4rem; 
  justify-content: center; 
  align-items: center;
  display: inline-flex;
}
.btn-icon-only svg { width: 1.5rem; height: 1.5rem; }

/* Neo-brutalist input styles */
.input-brutal {
  @apply border-2 border-black bg-white text-black font-normal px-4 py-2 text-lg tracking-tight;
  box-shadow: 2px 2px 0px 0px rgb(0,0,0);
}

.input-brutal:focus {
  outline: none;
  transform: translate(1px, 1px);
  box-shadow: 3px 3px 0px 0px rgb(0,0,0);
}

/* Neo-brutalist card styles */
.card-brutal {
  @apply border-2 border-black bg-white p-4 sm:p-6 tracking-tight;
  box-shadow: 4px 4px 0px 0px rgb(0,0,0);
}

/* Neo-brutalist timer display - styles applied via Tailwind classes */

/* Neo-brutalist progress bar */
.progress-brutal {
  @apply border-2 border-black bg-gray-200 h-11 tracking-tight;
  box-shadow: 3px 3px 0px 0px rgb(0,0,0);
  max-width: fit-content;
  margin: 0 auto;
}

.progress-fill {
  @apply h-full bg-red-500;
  transition: width 0.3s ease;
}

/* Button container spacing utilities */
.btn-group {
  display: flex;
  gap: 0.75rem;
  align-items: center;
  justify-content: center;
  flex-wrap: wrap;
  max-width: fit-content;
  margin: 0 auto;
}

.btn-group-compact {
  display: flex;
  gap: 0.5rem;
  align-items: center;
  justify-content: center;
  flex-wrap: wrap;
  max-width: fit-content;
  margin: 0 auto;
}

/* Modal animations */
@keyframes slide-in-from-top {
  from {
    opacity: 0;
    transform: translateY(-20px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.animate-in {
  animation: slide-in-from-top 0.3s ease-out;
}

.slide-in-from-top-4 {
  animation: slide-in-from-top 0.3s ease-out;
}

/* Responsive utilities for cleaner mobile design */
@media (max-width: 640px) {
  .hide-text-mobile {
    font-size: 0;
    line-height: 0;
    width: 0;
    overflow: hidden;
  }
  
  .btn-brutal {
    @apply px-4 py-3 text-lg;
    min-height: 48px;
    box-shadow: 4px 4px 0px 0px rgb(0,0,0);
  }
  
  .btn-icon-only {
    padding: 0.75rem;
    min-width: 3rem;
    justify-content: center;
  }
  
  .btn-icon-only svg { 
    width: 1.25rem; 
    height: 1.25rem; 
  }
  
  .btn-icon-only .hide-text-mobile {
    display: none;
  }
  
  .preset-compact {
    padding: 0.5rem 0.75rem;
    font-size: 0.875rem;
    min-width: auto;
  }
  
  .btn-group {
    gap: 0.5rem;
  }
  
  .btn-group-compact {
    gap: 0.25rem;
  }
  
  .progress-brutal {
    @apply h-8;
    box-shadow: 2px 2px 0px 0px rgb(0,0,0);
  }
}

/* Extra small screen adjustments */
@media (max-width: 480px) {
  .btn-brutal {
    @apply px-3 py-2 text-base;
    min-height: 44px;
    box-shadow: 3px 3px 0px 0px rgb(0,0,0);
  }
  
  .btn-icon-only {
    padding: 0.625rem;
    min-width: 2.75rem;
  }
  
  .btn-icon-only svg { 
    width: 1rem; 
    height: 1rem; 
  }
  
  .btn-group {
    gap: 0.375rem;
  }
  
  .btn-group-compact {
    gap: 0.25rem;
  }
  
  .progress-brutal {
    @apply h-6;
    box-shadow: 2px 2px 0px 0px rgb(0,0,0);
  }
}

/* Preset button styling for all screen sizes */
.preset-compact {
  @apply px-3 py-2 text-base min-w-0 tracking-tight;
  justify-content: center;
  align-items: center;
  display: inline-flex;
}

@media (max-width: 640px) {
  .preset-compact {
    padding: 0.5rem 0.75rem;
    font-size: 0.875rem;
    min-width: auto;
  }

  /* Improved rename input responsiveness */
  .input-brutal {
    font-size: 0.875rem;
    padding: 0.5rem 0.75rem;
  }

  /* Better button spacing in rename mode */
  .btn-sm {
    min-height: 2rem;
    font-size: 0.75rem;
  }

  /* Ensure flex containers don't overflow */
  .flex-1 {
    min-width: 0;
  }
}
